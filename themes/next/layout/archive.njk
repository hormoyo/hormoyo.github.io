
{% extends '_layout.njk' %}
{% import '_macro/post-collapse.njk' as post_template with context %}
{% import '_macro/sidebar.njk' as sidebar_template with context %}

{% block title %}{{ __('title.archive') }} | {{ title }}{% endblock %}

{% block class %}archive posts-collapse{% endblock %}

{% block content %}
  {######################}
  {### CATEGORY BLOCK ###}
  {######################}
  <div class="post-block">
    <h1 class="post-title" style=" border-left:none;padding-left:0;text-align:center;padding-top:0;">专栏分类</h1><br>
    <div class="post-content">
      <div class="collection-title">
        {{ list_categories() }}
      </div>
    </div>
  </div>
  {##########################}
  {### END CATEGORY BLOCK ###}
  {##########################}


  {#################}
  {### TAG BLOCK ###}
  {#################}
  <div class="tag-cloud">
    <h1 class="post-title" style=" border-left:none;padding-left:0;text-align:center;padding-top:0;">标签</h1><br>
    <div class="tag-cloud-title">
          {% for tag in site.tags %}
            {% if tag.length %}
            {% endif %}
          {% endfor %}
    </div><br>
    <div class="tag-cloud-tags">
          {{ tagcloud({min_font: 12, max_font: 30, amount: 300, color: true, start_color: '#ccc', end_color: '#111'}) }}
    </div>
  </div>
  {#####################}
  {### END TAG BLOCK ###}
  {#####################}

  {#####################}
  {### ARCHIVE BLOCK ###}
  {#####################}
  <div class="post-block">
    <div class="post-content">
      <div class="collection-title">
        {%- set posts_length = site.posts.length %}
        {%- if posts_length > 210 %}
          {%- set cheers = 'excellent' %}
        {% elif posts_length > 130 %}
          {%- set cheers = 'great' %}
        {% elif posts_length > 80 %}
          {%- set cheers = 'good' %}
        {% elif posts_length > 50 %}
          {%- set cheers = 'nice' %}
        {% elif posts_length > 30 %}
          {%- set cheers = 'ok' %}
        {% else %}
          {%- set cheers = 'um' %}
        {%- endif %}
        <span class="collection-header">{{ __('cheers.' + cheers) }}! {{ _p('counter.archive_posts', site.posts.length) }} {{ __('keep_on') }}</span>
      </div>

      {{ post_template.render(page.posts) }}

    </div>
  </div>
  {#########################}
  {### END ARCHIVE BLOCK ###}
  {#########################}

  {%- include '_partials/pagination.njk' -%}

{% endblock %}

{% block sidebar %}
  {{ sidebar_template.render(false) }}
{% endblock %}
